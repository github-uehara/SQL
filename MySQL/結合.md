### 結合の種類
- 内部結合（INNER JOIN）
- 左外部結合（LEFT OUTER JOIN）
- 右外部結合（RIGHT OUTER JOIN）
- 完全外部結合（FULL OUTER JOIN）
- 交差結合（CROSS JOIN）
- 自然結合（NATURAL）
- 統合結合（UNION／UNION ALL）
---
### 内部結合
- 2つのテーブルの合体可能なデータのみ取り出す

内部結合は、```INNER JOIN```句を使用します。
```
SELECT
    * 
FROM
    tt_employee emp 
    INNER JOIN tt_position pos 
        ON emp.position_cd = pos.position_cd 
ORDER BY
    emp.employee_id;

+-------------+-------------+-------------+------------+-------------+-------------+---------------+
| employee_id | employee_nm | position_cd | join_date  | retire_flag | position_cd | position_nm   |
+-------------+-------------+-------------+------------+-------------+-------------+---------------+
| A001        | 島根        | J001        | 2000-01-01 | 0           | J001        | ジュニア1     |
| A002        | 岡山        | J001        | 2000-02-01 | 0           | J001        | ジュニア1     |
| A003        | 新潟        | J002        | 2000-03-01 | 0           | J002        | ジュニア2     |
| A004        | 蝦夷地      | E001        | 1999-01-01 | 1           | E001        | エンジニア1   |
| A005        | 神奈川      | M001        | 2000-04-01 | 0           | M001        | マネージャー1 |
| A006        | 江戸        | G999        | 1999-01-01 | 1           | G999        | 社長          |
+-------------+-------------+-------------+------------+-------------+-------------+---------------+
```
---
### 左外部結合
- テーブル1の全データを取り出して、それにテーブル2のデータをくっつける

左外部結合は、```LEFT OUTER JOIN```句を使用します。
```
SELECT
    * 
FROM
    tt_employee emp 
    LEFT OUTER JOIN tt_position pos 
        ON emp.position_cd = pos.position_cd 
ORDER BY
    emp.employee_id;

+-------------+-------------+-------------+------------+-------------+-------------+---------------+
| employee_id | employee_nm | position_cd | join_date  | retire_flag | position_cd | position_nm   |
+-------------+-------------+-------------+------------+-------------+-------------+---------------+
| A001        | 島根        | J001        | 2000-01-01 | 0           | J001        | ジュニア1     |
| A002        | 岡山        | J001        | 2000-02-01 | 0           | J001        | ジュニア1     |
| A003        | 新潟        | J002        | 2000-03-01 | 0           | J002        | ジュニア2     |
| A004        | 蝦夷地      | E001        | 1999-01-01 | 1           | E001        | エンジニア1   |
| A005        | 神奈川      | M001        | 2000-04-01 | 0           | M001        | マネージャー1 |
| A006        | 江戸        | G999        | 1999-01-01 | 1           | G999        | 社長          |
+-------------+-------------+-------------+------------+-------------+-------------+---------------+
```
---
### 右外部結合
- テーブル2の全データを取り出して、それにテーブル1のデータをくっつける
- 普通は左外部結合に書き換えられる

右外部結合は、```RIGHT OUTER JOIN```句を使用します。
```
SELECT
    * 
FROM
    tt_employee emp 
    RIGHT OUTER JOIN tt_position pos 
        ON emp.position_cd = pos.position_cd 
ORDER BY
    emp.employee_id;

+-------------+-------------+-------------+------------+-------------+-------------+---------------+
| employee_id | employee_nm | position_cd | join_date  | retire_flag | position_cd | position_nm   |
+-------------+-------------+-------------+------------+-------------+-------------+---------------+
| NULL        | NULL        | NULL        | NULL       | NULL        | A001        | アソシエイト1 |
| A001        | 島根        | J001        | 2000-01-01 | 0           | J001        | ジュニア1     |
| A002        | 岡山        | J001        | 2000-02-01 | 0           | J001        | ジュニア1     |
| A003        | 新潟        | J002        | 2000-03-01 | 0           | J002        | ジュニア2     |
| A004        | 蝦夷地      | E001        | 1999-01-01 | 1           | E001        | エンジニア1   |
| A005        | 神奈川      | M001        | 2000-04-01 | 0           | M001        | マネージャー1 |
| A006        | 江戸        | G999        | 1999-01-01 | 1           | G999        | 社長          |
+-------------+-------------+-------------+------------+-------------+-------------+---------------+
```
---
### 完全外部結合
- 両方のテーブルの全データを取り出して、くっつけられる範囲でくっつける
- MySQLは、```FULL OUTER JOIN```句が使用できない

MySQLで完全外部結合と同じ処理結果を得るには、```UNION``` ```LEFT JOIN``` ```RIGHT JOIN```を利用します。
```
SELECT
    * 
FROM
    tt_employee emp 
    LEFT OUTER JOIN tt_position pos 
        ON emp.position_cd = pos.position_cd 
UNION 
SELECT
    * 
FROM
    tt_employee emp 
    RIGHT OUTER JOIN tt_position pos 
        ON emp.position_cd = pos.position_cd;

+-------------+-------------+-------------+------------+-------------+-------------+---------------+
| employee_id | employee_nm | position_cd | join_date  | retire_flag | position_cd | position_nm   |
+-------------+-------------+-------------+------------+-------------+-------------+---------------+
| A001        | 島根        | J001        | 2000-01-01 | 0           | J001        | ジュニア1     |
| A002        | 岡山        | J001        | 2000-02-01 | 0           | J001        | ジュニア1     |
| A003        | 新潟        | J002        | 2000-03-01 | 0           | J002        | ジュニア2     |
| A004        | 蝦夷地      | E001        | 1999-01-01 | 1           | E001        | エンジニア1   |
| A005        | 神奈川      | M001        | 2000-04-01 | 0           | M001        | マネージャー1 |
| A006        | 江戸        | G999        | 1999-01-01 | 1           | G999        | 社長          |
| NULL        | NULL        | NULL        | NULL       | NULL        | A001        | アソシエイト1 |
+-------------+-------------+-------------+------------+-------------+-------------+---------------+
```
---
### 交差結合
- 両方のテーブルの全データを取り出して、すべての組み合わせでくっつける
---
### 自然結合
- 結合する項目名を指定しなくても2つのテーブルの同じ名前の項目を結合してデータを取得します

自然結合は、```NATURAL JOIN```句を使用します。
```
SELECT
    * 
FROM
    tt_employee emp 
    NATURAL JOIN tt_position pos 
ORDER BY
    emp.employee_id;

+-------------+-------------+-------------+------------+-------------+---------------+
| position_cd | employee_id | employee_nm | join_date  | retire_flag | position_nm   |
+-------------+-------------+-------------+------------+-------------+---------------+
| J001        | A001        | 島根        | 2000-01-01 | 0           | ジュニア1     |
| J001        | A002        | 岡山        | 2000-02-01 | 0           | ジュニア1     |
| J002        | A003        | 新潟        | 2000-03-01 | 0           | ジュニア2     |
| E001        | A004        | 蝦夷地      | 1999-01-01 | 1           | エンジニア1   |
| M001        | A005        | 神奈川      | 2000-04-01 | 0           | マネージャー1 |
| G999        | A006        | 江戸        | 1999-01-01 | 1           | 社長          |
+-------------+-------------+-------------+------------+-------------+---------------+
```
---
### 統合結合
- 別々に取得したデータを結合して取得する

統合結合は、```UNION```句を使用します。
```
SELECT
    employee_id
    , employee_nm 
FROM
    tt_employee 
WHERE
    employee_id IN ('A001', 'A002') 
UNION 
SELECT
    employee_id
    , employee_nm 
FROM
    tt_employee 
WHERE
    employee_id IN ('A001', 'A002', 'A004', 'A005');

+-------------+-------------+
| employee_id | employee_nm |
+-------------+-------------+
| A001        | 島根        |
| A002        | 岡山        |
| A004        | 蝦夷地      |
| A005        | 神奈川      |
+-------------+-------------+
```
```UNION```では重複したデータは除かれるため、```UNION ALL```で重複したデータも含めることができます。
```
SELECT
    employee_id
    , employee_nm 
FROM
    tt_employee 
WHERE
    employee_id IN ('A001', 'A002') 
UNION ALL
SELECT
    employee_id
    , employee_nm 
FROM
    tt_employee 
WHERE
    employee_id IN ('A001', 'A002', 'A004', 'A005');

+-------------+-------------+
| employee_id | employee_nm |
+-------------+-------------+
| A001        | 島根        |
| A002        | 岡山        |
| A001        | 島根        |
| A002        | 岡山        |
| A004        | 蝦夷地      |
| A005        | 神奈川      |
+-------------+-------------+
```
